import keys


def convert_to_svg(sorted_contours):
    # https://www.w3schools.com/graphics/svg_path.asp
    svg_paths = []

    for color_num, cnts in sorted_contours.items():
        paths_arr = []
        for cnt in cnts:
            _str_build = 'M '

            for point in cnt[:, 0, :]:
                _str_build += f'{point[0]},{point[1]} '

            _str_build = _str_build[:-1] + ' Z'
            paths_arr.append(_str_build)

        layer_color_type = keys.colors_types[color_num]
        path_obj = {"d": " ".join(paths_arr), "type": layer_color_type}
        svg_paths.append(path_obj)

    return svg_paths


if __name__ == '__main__':
    sorted_contours = [[254, [[[1023, 476]], [[1000, 564]], [[998, 567]], [[725, 767]], [[706, 767]], [[309, 741]], [[305, 740]], [[0, 642]], [[0, 0]], [[1023, 0]]]], [127, [[[1023, 767]], [[726, 767]], [[613, 529]], [[611, 524]], [[609, 518]], [[605, 502]], [[604, 497]], [[604, 484]], [[606, 129]], [[607, 122]], [[608, 117]], [[610, 111]], [[612, 107]], [[614, 104]], [[620, 98]], [[624, 95]], [[633, 89]], [[637, 87]], [[640, 86]], [[646, 85]], [[688, 84]], [[703, 84]], [[707, 85]], [[710, 86]], [[726, 92]], [[732, 95]], [[733, 96]], [[1023, 477]]]], [127, [[[706, 767]], [[0, 767]], [[0, 639]], [[52, 605]], [[246, 503]], [[250, 501]], [[255, 499]], [[258, 498]], [[262, 497]], [[266, 497]], [[666, 707]], [[670, 710]], [[679, 717]], [[686, 724]], [[688, 727]], [[697, 742]], [[702, 752]], [[704, 757]], [[705, 760]], [[706, 765]]]], [127, [[[157, 289]], [[156, 292]], [[155, 294]], [[153, 296]], [[150, 298]], [[146, 299]], [[139, 299]], [[47, 287]], [[40, 286]], [[34, 284]], [[31, 282]], [[29, 280]], [[26, 274]], [[25, 271]], [[24, 261]], [[19, 117]], [[16, 27]], [[16, 16]], [[17, 9]], [[18, 4]], [[19, 0]], [[46, 0]], [[144, 79]], [[151, 86]], [[152, 88]], [[153, 92]], [[157, 270]]]], [0, [[[867, 621]], [[863, 640]], [[862, 643]], [[857, 648]], [[855, 649]], [[851, 650]], [[794, 650]], [[680, 613]], [[677, 612]], [[672, 607]], [[622, 529]], [[621, 527]], [[619, 521]], [[618, 515]], [[618, 511]], [[619, 502]], [[620, 496]], [[621, 492]], [[623, 488]], [[735, 480]], [[738, 480]], [[740, 481]], [[742, 483]], [[867, 616]]]], [0, [[[729, 116]], [[728, 209]], [[727, 257]], [[726, 272]], [[725, 285]], [[724, 293]], [[723, 295]], [[721, 297]], [[719, 297]], [[715, 293]], [[622, 158]], [[621, 149]], [[621, 125]], [[622, 121]], [[624, 117]], [[635, 106]], [[637, 105]], [[641, 104]], [[710, 101]], [[720, 101]], [[723, 102]], [[725, 103]], [[727, 105]], [[728, 107]], [[729, 114]]]], [0, [[[642, 767]], [[145, 767]], [[145, 764]], [[149, 760]], [[152, 758]], [[157, 755]], [[173, 747]], [[177, 746]], [[424, 743]], [[441, 743]], [[457, 744]], [[570, 752]], [[635, 760]], [[638, 761]], [[641, 764]], [[642, 766]]]], [127, [[[1009, 280]], [[1008, 282]], [[1004, 286]], [[1002, 287]], [[999, 288]], [[986, 289]], [[985, 289]], [[969, 288]], [[965, 286]], [[926, 212]], [[925, 210]], [[924, 207]], [[924, 197]], [[926, 191]], [[933, 184]], [[938, 180]], [[942, 177]], [[946, 175]], [[949, 174]], [[955, 174]], [[958, 175]], [[960, 176]], [[980, 189]], [[984, 193]], [[985, 195]], [[1009, 275]]]]]
    print(convert_to_svg(sorted_contours))
